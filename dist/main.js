(()=>{"use strict";document.querySelectorAll(".set-bg").forEach((e=>{const t=e.dataset.setbg;e.style.backgroundImage=`url(${t})`})),(()=>{const e=document.querySelector(".preloder");e.classList.add("active"),setTimeout((()=>{e.classList.remove("active")}),500)})(),(()=>{const e=document.querySelector(".search-model");document.addEventListener("click",(t=>{t.target.closest(".icon_search")?e.style.display="block":t.target.closest(".search-close-switch")&&(e.style.display="none")}))})(),document.getElementById("scrollToTopButton").addEventListener("click",(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),new Swiper(".swiper",{pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"fade",speed:1e3}),(()=>{fetch("./db.json").then((e=>e.json())).then((s=>{let n=new Set;s.anime.forEach((e=>{n.add(e.ganre)})),t(s.anime.sort(((e,t)=>t.views-e.views)).splice(0,5)),e(s.anime.sort(((e,t)=>t.views-e.views)),n)}));const e=(e,t)=>{const s=document.querySelector(".product .col-lg-8");s.innerHTML="",t.forEach((t=>{const n=document.createElement("div"),a=document.createElement("div"),i=e.filter((e=>e.ganre===t));a.classList.add("row"),n.insertAdjacentHTML("afterbegin",`\n            <div class="row">\n                            <div class="col-lg-8 col-md-8 col-sm-8">\n                                <div class="section-title">\n                                    <h4>${t}</h4>\n                                </div>\n                            </div>\n                            <div class="col-lg-4 col-md-4 col-sm-4">\n                                <div class="btn__all">\n                                    <a href="/categories.html" class="primary-btn">View All <span class="arrow_right"></span></a>\n                                </div>\n                            </div>\n                        </div>\n            `),i.forEach((e=>{const t=document.createElement("ul");e.tags.forEach((e=>{t.insertAdjacentHTML("afterbegin",`<li>${e}</li> `)})),a.insertAdjacentHTML("afterbegin",`\n                <div class="col-lg-4 col-md-6 col-sm-6 hov" >\n                <div class="product__item">\n                 <div class="product__item__pic set-bg" data-setbg="${e.image}">\n                        <div class="ep">${e.rating} / 10</div>\n                         <div class="view"><i class="fa fa-eye"></i>${e.views}</div>\n                    </div>\n                    <div class="product__item__text">\n                                ${t.outerHTML}\n                <h5><a href="/anime-details.html">${e.title}</a></h5>\n                    </div>\n                </div>\n                </div>\n                `)})),a.querySelectorAll(".set-bg").forEach((e=>{e.style.backgroundImage=`url(${e.dataset.setbg})`})),n.append(a),s.append(n)}))},t=e=>{let t=document.querySelector(".filter__gallery");t.innerHTML="",e.forEach((e=>{t.insertAdjacentHTML("afterbegin",`\n            <div class="product__sidebar__view__item set-bg mix"\n                                    data-setbg="${e.image}">\n                                    <div class="ep">${e.rating} / 10</div>\n                                    <div class="view"><i class="fa fa-eye"></i>${e.views}</div>\n                                    <h5><a href="/anime-details.html">${e.title}</a></h5>\n                                </div>`)})),t.querySelectorAll(".set-bg").forEach((e=>{e.style.backgroundImage=`url(${e.dataset.setbg})`}))}})()})();